import{p as o,N as v,O as y}from"./app-1d827472.js";function b(){const l=o({}),u=o({title:"",content:"",category_id:"",thumbnail:""}),c=v(),a=o({}),r=o(!1),i=y("$swal"),d=async(t=1,s="",e="",n="",x="",p="",f="created_at",h="desc")=>{axios.get("/api/exercises?page="+t+"&search_category="+s+"&search_id="+e+"&search_title="+n+"&search_content="+x+"&search_global="+p+"&order_column="+f+"&order_direction="+h).then(m=>{l.value=m.data})};return{exercises:l,exercise:u,getExercises:d,getExercise:async t=>{axios.get("/api/exercises/"+t).then(s=>{u.value=s.data.data})},storeExercise:async t=>{if(r.value)return;r.value=!0,a.value={};let s=new FormData;for(let e in t)t.hasOwnProperty(e)&&s.append(e,t[e]);axios.post("/api/exercises",s,{headers:{"content-type":"multipart/form-data"}}).then(e=>{c.push({name:"exercises.index"}),i({icon:"success",title:"Exercise saved successfully"})}).catch(e=>{var n;(n=e.response)!=null&&n.data&&(a.value=e.response.data.errors)}).finally(()=>r.value=!1)},updateExercise:async t=>{r.value||(r.value=!0,a.value={},axios.post("/api/exercises/update/"+t.id,t,{headers:{"content-type":"multipart/form-data"}}).then(s=>{c.push({name:"exercises.index"}),console.log(s),i({icon:"success",title:"Exercise updated successfully"})}).catch(s=>{var e;(e=s.response)!=null&&e.data&&(a.value=s.response.data.errors)}).finally(()=>r.value=!1))},deleteExercise:async t=>{i({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&axios.delete("/api/exercises/"+t).then(e=>{d(),c.push({name:"exercises.index"}),i({icon:"success",title:"Exercise deleted successfully"})}).catch(e=>{i({icon:"error",title:"Something went wrong"})})})},validationErrors:a,isLoading:r,router:c}}export{b as u};
