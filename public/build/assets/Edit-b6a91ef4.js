import{i as F,A as E,K as k,M as q,o as t,c as a,e as s,I as M,E as m,L as P,t as u,q as o,F as S,f as B,G as D}from"./app-1d827472.js";import{u as L}from"./permissions-dee33d5c.js";import{d as _,u as V,a as R,r as T,m as U}from"./rules-1dfda01e.js";const j={class:"row justify-content-center my-5"},A={class:"col-md-6"},G={class:"card border-0 shadow-sm"},I={class:"card-body"},K={class:"mb-3"},N=s("label",{for:"post-title",class:"form-label"}," Title ",-1),z={class:"text-danger mt-1"},C={class:"text-danger mt-1"},H={class:"mt-4"},J=["disabled"],O={class:""},Q={key:0},W={key:1},es={__name:"Edit",setup(X){_("required",T),_("min",U);const p={name:"required|min:3"},{validate:v,errors:h,resetForm:Y}=V({validationSchema:p}),{value:f}=R("name",null,{initialValue:""}),{permission:r,getPermission:b,updatePermission:y,validationErrors:g,isLoading:i}=L(),e=F({name:f}),w=E();function x(){v().then(d=>{d.valid&&y(e)})}return k(()=>{b(w.params.id)}),q(()=>{e.id=r.value.id,e.name=r.value.name}),(d,l)=>{var c;return t(),a("div",j,[s("div",A,[s("div",G,[s("div",I,[s("form",{onSubmit:M(x,["prevent"])},[s("div",K,[N,m(s("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>e.name=n),id:"post-title",type:"text",class:"form-control"},null,512),[[P,e.name]]),s("div",z,u(o(h).name),1),s("div",C,[(t(!0),a(S,null,B((c=o(g))==null?void 0:c.name,n=>(t(),a("div",null,u(n),1))),256))])]),s("div",H,[s("button",{disabled:o(i),class:"btn btn-primary"},[m(s("div",O,null,512),[[D,o(i)]]),o(i)?(t(),a("span",Q,"Processing...")):(t(),a("span",W,"Update"))],8,J)])],32)])])])])}}};export{es as default};
