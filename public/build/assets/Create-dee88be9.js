import{p as x,i as P,K as T,d as U,o,c as a,e as t,E as _,L as E,t as n,q as s,F as c,f as u,h,G as y,I as N,v as p}from"./app-1d827472.js";import{_ as A}from"./TextEditorComponent-1f1ec3a5.js";import{D as G}from"./DropZone-7ced32a9.js";import{u as I}from"./categories-0852dc16.js";import{u as K}from"./posts-79cf4708.js";import{d as L,u as R,a as v,r as Z,m as $}from"./rules-1dfda01e.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"row my-5"},J={class:"col-md-8"},O={class:"card border-0 shadow-sm"},Q={class:"card-body"},W={class:"mb-3"},X=t("label",{for:"post-title",class:"form-label"}," Title ",-1),Y={class:"text-danger mt-1"},tt={class:"text-danger mt-1"},et={class:"mb-3"},st=t("label",{for:"post-content",class:"form-label"}," Content ",-1),ot={class:"text-danger mt-1"},at={class:"text-danger mt-1"},lt={class:"col-md-4"},it={class:"card border-0 shadow-sm"},nt={class:"card-body"},rt=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Action ")],-1),dt={class:"mt-3 text-center"},ct=["disabled"],ut={class:""},mt={key:0},_t={key:1},ht=["disabled"],vt={class:""},pt={key:0},bt={key:1},gt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Category ")],-1),ft={class:"mb-3"},wt={class:"text-danger mt-1"},Vt={class:"text-danger mt-1"},xt={class:"mb-3"},yt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Thumbnail ")],-1),Lt={class:"text-danger mt-1"},Dt={__name:"Create",setup(qt){L("required",Z),L("min",$),x(!0);const q={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:z,errors:m}=R({validationSchema:q}),{value:C}=v("title",null,{initialValue:""}),{value:M}=v("content",null,{initialValue:""}),{value:k}=v("categories",null,{initialValue:"",label:"category"}),{categoryList:B,getCategoryList:H}=I(),{storePost:S,validationErrors:d,isLoading:r}=K(),l=P({title:C,content:M,categories:k,thumbnail:""});x("");function D(){z().then(b=>{b.valid&&S(l)})}return T(()=>{H()}),(b,i)=>{var g,f,w,V;const F=U("v-select");return o(),a("form",{onSubmit:N(D,["prevent"])},[t("div",j,[t("div",J,[t("div",O,[t("div",Q,[t("div",W,[X,_(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.title=e),id:"post-title",type:"text",class:"form-control"},null,512),[[E,l.title]]),t("div",Y,n(s(m).title),1),t("div",tt,[(o(!0),a(c,null,u((g=s(d))==null?void 0:g.title,e=>(o(),a("div",null,n(e),1))),256))])]),t("div",et,[st,h(A,{modelValue:l.content,"onUpdate:modelValue":i[1]||(i[1]=e=>l.content=e)},null,8,["modelValue"]),t("div",ot,n(s(m).content),1),t("div",at,[(o(!0),a(c,null,u((f=s(d))==null?void 0:f.content,e=>(o(),a("div",null,n(e),1))),256))])])])])]),t("div",lt,[t("div",it,[t("div",nt,[rt,t("div",dt,[t("button",{disabled:s(r),class:"btn btn btn-outline-primary me-2"},[_(t("div",ut,null,512),[[y,s(r)]]),s(r)?(o(),a("span",mt,"Processing...")):(o(),a("span",_t,"Save Draft"))],8,ct),t("button",{disabled:s(r),class:"btn btn-primary"},[_(t("div",vt,null,512),[[y,s(r)]]),s(r)?(o(),a("span",pt,"Processing...")):(o(),a("span",bt,"Publish"))],8,ht)]),gt,t("div",ft,[h(F,{multiple:"",modelValue:l.categories,"onUpdate:modelValue":i[2]||(i[2]=e=>l.categories=e),options:s(B),reduce:e=>e.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),t("div",wt,n(s(m).categories),1),t("div",Vt,[(o(!0),a(c,null,u((w=s(d))==null?void 0:w.categories,e=>(o(),a("div",null,n(e),1))),256))])]),t("div",xt,[yt,h(G,{modelValue:l.thumbnail,"onUpdate:modelValue":i[3]||(i[3]=e=>l.thumbnail=e)},null,8,["modelValue"]),t("div",Lt,[(o(!0),a(c,null,u((V=s(d))==null?void 0:V.thumbnail,e=>(o(),a("div",null,n(e),1))),256))])])])])])])],32)}}};export{Dt as default};
