import{i as G,A as I,K,M as N,d as R,o,c as i,e,E as V,L as T,t as n,q as a,F as c,f as u,h as v,G as A,I as P}from"./app-1d827472.js";import{u as Z}from"./categories-0852dc16.js";import{u as $}from"./exercises-318f976c.js";import{d as y,u as j,a as h,r as z,m as H}from"./rules-1dfda01e.js";import{_ as J}from"./TextEditorComponent-1f1ec3a5.js";import{D as O}from"./DropZone-7ced32a9.js";import"./_plugin-vue_export-helper-c27b6911.js";const Q={class:"row my-5"},W={class:"col-md-8"},X={class:"card border-0 shadow-sm"},Y={class:"card-body"},ee={class:"mb-3"},te=e("label",{for:"exercise-title",class:"form-label"}," Título",-1),se={class:"text-danger mt-1"},oe={class:"text-danger mt-1"},ie={class:"mb-3"},ae=e("label",{for:"exercise-content",class:"form-label"}," Enunciado ",-1),le={class:"text-danger mt-1"},ne={class:"text-danger mt-1"},re={class:"col-md-4"},de={class:"card border-0 shadow-sm"},ce={class:"card-body"},ue=e("h6",{class:"mt-3"},"Categoria",-1),me={class:"mb-3"},_e={class:"text-danger mt-1"},ve={class:"text-danger mt-1"},he={class:"mb-3"},pe=e("h6",{class:"mt-3"},"Imagen",-1),ge={class:"text-danger mt-1"},be={class:"mt-3 text-center"},fe=["disabled"],xe={class:""},Ve={key:0},ye={key:1},Ce={__name:"Edit",setup(we){y("required",z),y("min",H);const w={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:E,errors:m,resetForm:Ee}=j({validationSchema:w}),{value:S}=h("title",null,{initialValue:""}),{value:q}=h("content",null,{initialValue:""}),{value:F}=h("categories",null,{initialValue:"",label:"category"}),{categoryList:L,getCategoryList:M}=Z(),{exercise:r,getExercise:D,updateExercise:k,validationErrors:d,isLoading:_}=$(),s=G({title:S,content:q,categories:F,thumbnail:""}),C=I();function U(){E().then(p=>{p.valid&&k(s)})}return K(()=>{D(C.params.id),M()}),N(()=>{s.id=r.value.id,s.title=r.value.title,s.content=r.value.content,s.thumbnail=r.value.original_image,s.categories=r.value.categories}),(p,l)=>{var g,b,f,x;const B=R("MultiSelect");return o(),i("form",{onSubmit:P(U,["prevent"])},[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[te,V(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>s.title=t),id:"exercise-title",type:"text",class:"form-control"},null,512),[[T,s.title]]),e("div",se,n(a(m).title),1),e("div",oe,[(o(!0),i(c,null,u((g=a(d))==null?void 0:g.title,t=>(o(),i("div",null,n(t),1))),256))])]),e("div",ie,[ae,v(J,{modelValue:s.content,"onUpdate:modelValue":l[1]||(l[1]=t=>s.content=t)},null,8,["modelValue"]),e("div",le,n(a(m).content),1),e("div",ne,[(o(!0),i(c,null,u((b=a(d))==null?void 0:b.content,t=>(o(),i("div",null,n(t),1))),256))])])])])]),e("div",re,[e("div",de,[e("div",ce,[ue,e("div",me,[v(B,{modelValue:s.categories,"onUpdate:modelValue":l[2]||(l[2]=t=>s.categories=t),filter:"",options:a(L),dataKey:"id",optionLabel:"name",placeholder:"Seleciona una categoría",display:"chip",class:"w-full md:w-20rem"},null,8,["modelValue","options"]),e("div",_e,n(a(m).categories),1),e("div",ve,[(o(!0),i(c,null,u((f=a(d))==null?void 0:f.categories,t=>(o(),i("div",null,n(t),1))),256))])]),e("div",he,[pe,v(O,{modelValue:s.thumbnail,"onUpdate:modelValue":l[3]||(l[3]=t=>s.thumbnail=t)},null,8,["modelValue"]),e("div",ge,[(o(!0),i(c,null,u((x=a(d))==null?void 0:x.thumbnail,t=>(o(),i("div",null,n(t),1))),256))])]),e("div",be,[e("button",{disabled:a(_),class:"btn btn btn-primary me-2 w-100"},[V(e("div",xe,null,512),[[A,a(_)]]),a(_)?(o(),i("span",Ve,"Processing...")):(o(),i("span",ye,"Guardar"))],8,fe)])])])])])],32)}}};export{Ce as default};
