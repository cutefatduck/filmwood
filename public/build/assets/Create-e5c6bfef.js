import{p as V,i as F,K as T,d as U,o,c as a,v as m,t as n,e,E as h,L as N,q as s,F as d,f as u,h as v,G as y,I as P}from"./app-1d827472.js";import{_ as A}from"./TextEditorComponent-1f1ec3a5.js";import{D as G}from"./DropZone-7ced32a9.js";import{u as I}from"./categories-0852dc16.js";import{u as K}from"./exercises-318f976c.js";import{d as L,u as R,a as p,r as Z,m as $}from"./rules-1dfda01e.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"row my-5"},J={class:"col-md-8"},O={class:"card border-0 shadow-sm"},Q={class:"card-body"},W={class:"mb-3"},X=e("label",{for:"exercise-title",class:"form-label"}," Title ",-1),Y={class:"text-danger mt-1"},ee={class:"text-danger mt-1"},te={class:"mb-3"},se=e("label",{for:"exercise-content",class:"form-label"}," Content ",-1),oe={class:"text-danger mt-1"},ae={class:"text-danger mt-1"},le={class:"col-md-4"},ie={class:"card border-0 shadow-sm"},ne={class:"card-body"},re=e("h6",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Action ")],-1),de={class:"mt-3 text-center"},ce=["disabled"],ue={class:""},me={key:0},_e={key:1},he=["disabled"],ve={class:""},pe={key:0},be={key:1},ge=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Category ")],-1),fe={class:"mb-3"},we={class:"text-danger mt-1"},xe={class:"text-danger mt-1"},Ve={class:"mb-3"},ye=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Thumbnail ")],-1),Le={class:"text-danger mt-1"},De={__name:"Create",setup(qe){L("required",Z),L("min",$),V(!0);const q={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:z,errors:_}=R({validationSchema:q}),{value:C}=p("title",null,{initialValue:""}),{value:M}=p("content",null,{initialValue:""}),{value:k}=p("categories",null,{initialValue:"",label:"category"}),{categoryList:B,getCategoryList:H}=I(),{storeExercise:S,validationErrors:c,isLoading:r}=K(),l=F({title:C,content:M,categories:k,thumbnail:""});V("");function D(){z().then(b=>{b.valid&&S(l)})}return T(()=>{H()}),(b,i)=>{var g,f,w,x;const E=U("v-select");return o(),a(d,null,[m(n(l)+" ",1),e("form",{onSubmit:P(D,["prevent"])},[e("div",j,[e("div",J,[e("div",O,[e("div",Q,[e("div",W,[X,h(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.title=t),id:"exercise-title",type:"text",class:"form-control"},null,512),[[N,l.title]]),e("div",Y,n(s(_).title),1),e("div",ee,[(o(!0),a(d,null,u((g=s(c))==null?void 0:g.title,t=>(o(),a("div",null,n(t),1))),256))])]),e("div",te,[se,v(A,{modelValue:l.content,"onUpdate:modelValue":i[1]||(i[1]=t=>l.content=t)},null,8,["modelValue"]),e("div",oe,n(s(_).content),1),e("div",ae,[(o(!0),a(d,null,u((f=s(c))==null?void 0:f.content,t=>(o(),a("div",null,n(t),1))),256))])])])])]),e("div",le,[e("div",ie,[e("div",ne,[re,e("div",de,[e("button",{disabled:s(r),class:"btn btn btn-outline-primary me-2"},[h(e("div",ue,null,512),[[y,s(r)]]),s(r)?(o(),a("span",me,"Processing...")):(o(),a("span",_e,"Save Draft"))],8,ce),e("button",{disabled:s(r),class:"btn btn-primary"},[h(e("div",ve,null,512),[[y,s(r)]]),s(r)?(o(),a("span",pe,"Processing...")):(o(),a("span",be,"Publish"))],8,he)]),ge,e("div",fe,[v(E,{multiple:"",modelValue:l.categories,"onUpdate:modelValue":i[2]||(i[2]=t=>l.categories=t),options:s(B),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),e("div",we,n(s(_).categories),1),e("div",xe,[(o(!0),a(d,null,u((w=s(c))==null?void 0:w.categories,t=>(o(),a("div",null,n(t),1))),256))])]),e("div",Ve,[ye,v(G,{modelValue:l.thumbnail,"onUpdate:modelValue":i[3]||(i[3]=t=>l.thumbnail=t)},null,8,["modelValue"]),e("div",Le,[(o(!0),a(d,null,u((x=s(c))==null?void 0:x.thumbnail,t=>(o(),a("div",null,n(t),1))),256))])])])])])])],32)],64)}}};export{De as default};
